# Various Electricity Usage Analaysis and Categorize

æ•´ç†äº†31å€‹æ¡ˆå ´2022-2024å¹´æ¯æœˆä¸åŒæ™‚é–“æ®µçš„ç”¨é›»æ•¸æ“šï¼Œé€ékmeansæ–¹å¼æ­¸ç´æ•´ç†ï¼Œæ­¸ç´å‡ºä¸‰ç¨®ç”¨é›»å ´æ‰€å‹æ…‹ã€‚

---

## ç”¨é›»æ•¸æ“šè™•ç†æµç¨‹
1. **æ¯æœˆå¸³å–®è³‡è¨Š**ï¼ˆåŸå§‹æ•¸æ“šï¼‰--åœ¨postgreSQLè£¡
2. **å„æ¡ˆå ´çš„å½™æ•´è³‡è¨Š**-- è·ŸåŸå§‹æ•¸æ“šæ˜¯ä¸€æ¨£çš„ï¼Œåªæœ‰æŠŠæ›´æ”¹è¡¨æ ¼æ ¼å¼(é€écreate_summary.py)
3. **æ­¸ç´å‡ºä¸åŒç”¨é›»å ´æ‰€å½¢æ…‹**-- é€éä¸Šé¢çš„æ•¸æ“šï¼Œé€ék-meansçš„æ–¹å¼æ­¸ç´å‡ºä¸‰ç¨®ç”¨é›»å‹æ…‹

---

## æª”æ¡ˆèªªæ˜
###  `create_summary.py`, `interactive_plot_power_usage.py`, `update_all_analysis.py`
**åŠŸèƒ½**ï¼š  
- å…ˆç”± `create_summary.py`å°‡åŸå§‹è³‡æ–™æ•´ç†æˆä»¥æ¡ˆå ´ç‚ºå–®ä½çš„SQL tableï¼Œ tableæ¬„ä½:
  - year, month
  - time_period: peak, mid-peak, Sat. mid-peak, off-peak
  - total usage: ç¸½ç”¨é›»é‡(kWh)
- å†é€é `interactive_plot_power_usage.py`åšæˆä¸åŒTOUä¸‹çš„å„æ¡ˆå ´ä½¿ç”¨é‡äº’å‹•åœ–è¡¨
  - è¼¸å‡º `interactive_%.html`
- `update_all_analysis.py`: åªæ˜¯å‰é¢å…©å€‹æ±è¥¿è¼¸å‡ºä¹‹å¾Œç™¼ç¾æœ‰ç•°å¸¸å€¼ï¼Œå› æ­¤å›å»ä¿®æ­£åŸå§‹è³‡æ–™åº«ï¼Œç”¨é€™å€‹æª”æ¡ˆå°±å¯ä»¥å…¨éƒ¨åŒæ­¥æ›´æ–°å‡ºä¸Šé¢çš„ç”¢ç‰©ã€‚

---

###  `power_kmeans_analysis.py`
- ç²å¾—ä¸åŒæ¡ˆå ´çš„æ­·å¹´é€æœˆç”¨é›»è³‡è¨Šå¾Œï¼Œé€éK means æ–¹æ³•å°‡æ¡ˆå ´çš„ç”¨é›»å‹æ…‹æ­¸é¡
- K means factor
  - peak ratio= peak usage/ total usage
  - mid-peak ratio = mid-peak usage/ total usage
  - off-peak ratio= off-peak usage/ total usage
  - Sat. mid-peak ratio= Sat. mid-peak/ mid-peak
- ç¸½å…±æœ‰è·‘äº†ä¸‰ç¨®ï¼ŒK=2; K=3; k=4ï¼Œè¨ˆç®—çµæœ, PCA, and distribution å¯ä»¥åœ¨  `power_usage_plot` æª”æ¡ˆå¤¾è£¡é¢çœ‹åˆ°
- æœ€å¾Œæ±ºå®šK=4ï¼Œå…¶çµæœå¦‚ä¸‹ (è©³ç´°çš„æ•¸æ“šè«‹çœ‹ `kmeans_analysis_k4`)

| cluster | peak_ratio | midpeak_ratio (summer) | offpeak_ratio (summer) | sat_midpeak_ratio (summer) | midpeak_ratio (nonsummer) | offpeak_ratio (nonsummer) | sat_midpeak_ratio (nonsummer) |
|---------|------------|------------------------|------------------------|----------------------------|---------------------------|---------------------------|-------------------------------|
| 0 | 7.309 | 35.301 | 41.776 | 21.838 | 47.627 | 44.363 | 16.030 |
| 1 | 12.509 | 42.265 | 31.650 | 15.465 | 56.460 | 435.977 | 13.006 |
| 2 | 8.987 | 37.943 | 38.988 | 18.516 | 50.771 | 41.158 | 14.331 |
| 3 | 7.678 | 33.742 | 42.922 | 24.479 | 46.393 | 45.233 | 17.522 |

ğŸ“Œ **ç”¨é›»åˆ†é¡é¡åˆ¥å¦‚ä¸‹**ï¼š  
- clustor 0: æ··åˆå‹
  - ç‰¹å¾µ: ä¸»è¦ç”¨é›»é‡é›†ä¸­åœ¨ç™½å¤©ï¼Œå¤œé–“èˆ‡å‘¨æœ«ç”¨é›»é¡¯è‘—ä¸‹é™ã€‚å¤å­£mid-peakç”¨é›»æ¯”ä¾‹é«˜ï¼Œé›–ç„¶off-peak é‚„æ˜¯æœ‰ä¸€å®šå æ¯”ï¼Œå¯èƒ½æ˜¯å› ç‚ºè¨­å‚™å¾…æ©Ÿæˆ–æ˜¯å—å¤§æ¨“å…¬å…±è¨­æ–½å½±éŸ¿
  - å°æ‡‰å ´æ‰€: è¾¦å…¬å¤§æ¨“ã€å•†æ¥­æ©Ÿæ§‹(éŠ€è¡Œã€å­¸æ ¡)
 
- cluster 1: æ—¥é–“è¾¦å…¬å®¤

- clustor 2: 24/7å·¥å» (å¤œé–“æ¸›ç”¢ï¼Œç„¡24hré‹è½‰çš„å¤§å‹æ©Ÿçµ„)
  - ç‰¹å¾µ: å…¨å¤©é‹è¡Œä½†å¤œé–“æ¸›ç”¢(peak ratioä¸é«˜)ï¼Œå¤œé–“ç”¨é›»ä¸‹é™
  - å°æ‡‰å ´æ‰€: ä¸€èˆ¬24hrå·¥å» (å¡‘è† åŠ å·¥ã€ä¸€èˆ¬é›»å­å» ã€ç´¡ç¹”å» )ã€å†·éˆå€‰å„²(å¤œé–“ä»é ˆéƒ¨åˆ†å†·æ°£é‹ä½œ)ã€ç‰©æµä¸­å¿ƒ(å€‰å„²è¨­å‚™æŒçºŒé‹ä½œï¼Œä½†å¤œé–“äººåŠ›å°‘)
 
- clustor 3: 24/7 é«˜è€—èƒ½å·¥å» (æ©Ÿçµ„å…¨å¹´ç„¡ä¼‘)
  - ç‰¹å¾µ: å°–å³°æ™‚æ®µè€—èƒ½åŠé«˜ï¼Œå¤œé–“ä»èˆŠç¶­æŒé«˜èƒ½è€—
  - å°æ‡‰å ´æ‰€: é‹¼éµå» èˆ‡ç…‰é‹å» (é«˜çˆã€é›»å¼§çˆç„¡æ³•é—œé–‰)ã€åŠå°é«”æ™¶åœ“å» (æ©Ÿå°èˆ‡ç„¡å¡µå®¤å…¨å¹´é‹ä½œ)ã€çŸ³åŒ–å» èˆ‡é€ ç´™å» (æŒçºŒé‹è½‰çš„å¤§å‹æ©Ÿçµ„)ã€å¤§å‹å†·éˆå€‰å„²(å…¨å¤©å€™æº«æ§ï¼Œå¹¾ä¹ç„¡æ³•é—œé–‰è¨­å‚™)
