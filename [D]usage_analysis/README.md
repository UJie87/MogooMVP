# Various Electricity Usage Analaysis and Categorize

æ•´ç†äº†31å€‹æ¡ˆå ´2022-2024å¹´æ¯æœˆä¸åŒæ™‚é–“æ®µçš„ç”¨é›»æ•¸æ“šï¼Œé€ékmeansæ–¹å¼æ­¸ç´æ•´ç†ï¼Œæ­¸ç´å‡ºä¸‰ç¨®ç”¨é›»å ´æ‰€å‹æ…‹ã€‚

---

## ç”¨é›»æ•¸æ“šè™•ç†æµç¨‹
1. **æ¯æœˆå¸³å–®è³‡è¨Š**ï¼ˆåŸå§‹æ•¸æ“šï¼‰--åœ¨postgreSQLè£¡
2. **å„æ¡ˆå ´çš„å½™æ•´è³‡è¨Š**-- è·ŸåŸå§‹æ•¸æ“šæ˜¯ä¸€æ¨£çš„ï¼Œåªæœ‰æŠŠæ›´æ”¹è¡¨æ ¼æ ¼å¼(é€écreate_summary.py)
3. **æ­¸ç´å‡ºä¸åŒç”¨é›»å ´æ‰€å½¢æ…‹**-- é€éä¸Šé¢çš„æ•¸æ“šï¼Œé€ék-meansçš„æ–¹å¼æ­¸ç´å‡ºä¸‰ç¨®ç”¨é›»å‹æ…‹

---

## æª”æ¡ˆèªªæ˜
###  `create_summary.py`, `interactive_plot_power_usage.py`, `update_all_analysis.py`
**åŠŸèƒ½**ï¼š  
- å…ˆç”± `create_summary.py`å°‡åŸå§‹è³‡æ–™æ•´ç†æˆä»¥æ¡ˆå ´ç‚ºå–®ä½çš„SQL tableï¼Œ tableæ¬„ä½:
  - year, month
  - time_period: peak, mid-peak, Sat. mid-peak, off-peak
  - total usage: ç¸½ç”¨é›»é‡(kWh)
- å†é€é `interactive_plot_power_usage.py`åšæˆä¸åŒTOUä¸‹çš„å„æ¡ˆå ´ä½¿ç”¨é‡äº’å‹•åœ–è¡¨
  - è¼¸å‡º `interactive_%.html`
- `update_all_analysis.py`: åªæ˜¯å‰é¢å…©å€‹æ±è¥¿è¼¸å‡ºä¹‹å¾Œç™¼ç¾æœ‰ç•°å¸¸å€¼ï¼Œå› æ­¤å›å»ä¿®æ­£åŸå§‹è³‡æ–™åº«ï¼Œç”¨é€™å€‹æª”æ¡ˆå°±å¯ä»¥å…¨éƒ¨åŒæ­¥æ›´æ–°å‡ºä¸Šé¢çš„ç”¢ç‰©ã€‚

---

###  `power_kmeans_analysis.py`
- ç²å¾—ä¸åŒæ¡ˆå ´çš„æ­·å¹´é€æœˆç”¨é›»è³‡è¨Šå¾Œï¼Œé€éK means æ–¹æ³•å°‡æ¡ˆå ´çš„ç”¨é›»å‹æ…‹æ­¸é¡
- K means factor
  - peak ratio= peak usage/ total usage
  - mid-peak ratio = mid-peak usage/ total usage
  - off-peak ratio= off-peak usage/ total usage
  - Sat. mid-peak ratio= Sat. mid-peak/ mid-peak
- ç¸½å…±æœ‰è·‘äº†ä¸‰ç¨®ï¼ŒK=2; K=3; K=4ï¼Œè¨ˆç®—çµæœ, PCA, and distribution å¯ä»¥åœ¨ power_usage_plotæª”æ¡ˆå¤¾è£¡é¢çœ‹åˆ°
- æœ€å¾Œæ±ºå®šK=3ï¼Œå…¶çµæœå¦‚ä¸‹

| æ˜ŸæœŸ | æ™‚é–“å€æ®µ | é¡åˆ¥ |
|------|----------|---------|
| å¹³æ—¥ | 16:00 - 21:59 | **Peak** |
| å¹³æ—¥ | 9:00 - 15:59 | **Mid-peak** |
| å¹³æ—¥ | 22:00 - 23:59 | **Mid-peak** |
| å¹³æ—¥ | 00:00 - 8:59 | **Off-peak** |

ğŸ“Œ **è¨ˆç®—æ–¹å¼**ï¼ˆç¤ºä¾‹ï¼‰ï¼š  
å‡è¨­ `2025å¹´1æœˆ Sat. mid-peak` æ™‚æ®µå…§ï¼š
- **SAP = 13.55%**ï¼Œè¡¨ç¤º **å¤ªé™½èƒ½è£ç½®å®¹é‡çš„å¹³å‡ç™¼é›»è¡¨ç¾ç‚º 13.55%**
- è‹¥è©²æ¡ˆå ´çš„è£ç½®å®¹é‡ç‚º `100 kW`ï¼Œå‰‡ï¼š
  - æœ‰æ•ˆç™¼é›»å®¹é‡ = `100 kW Ã— 13.55% = 13.55 kW`
  - `Sat. mid-peak` æ™‚æ®µåœ¨ 1 æœˆå…§å…±è¨ˆ **60 å°æ™‚**
  - è©²æ™‚æ®µçš„ç™¼é›»é‡ = `100 kW Ã— 13.55% Ã— 60 hr = 813 kWh`

---

## â³ ä¸‰æ®µå¼æ™‚é–“é›»åƒ¹ (TOU) å®šç¾©
### ğŸ”¹ å¤å­£ (5/16 - 10/15)
| æ˜ŸæœŸ | æ™‚é–“å€æ®µ | é¡åˆ¥ |
|------|----------|---------|
| å¹³æ—¥ | 16:00 - 21:59 | **Peak** |
| å¹³æ—¥ | 9:00 - 15:59 | **Mid-peak** |
| å¹³æ—¥ | 22:00 - 23:59 | **Mid-peak** |
| å¹³æ—¥ | 00:00 - 8:59 | **Off-peak** |
| æ˜ŸæœŸå…­ | 9:00 - 23:59 | **Sat. Mid-peak** |
| æ˜ŸæœŸå…­ | 00:00 - 08:59 | **Off-peak** |
| æ˜ŸæœŸæ—¥ | 00:00 - 23:59 | **Off-peak** |

### ğŸ”¹ éå¤å­£ (10/16 - 5/15)
| æ˜ŸæœŸ | æ™‚é–“å€æ®µ | é¡åˆ¥ |
|------|----------|---------|
| å¹³æ—¥ | 6:00 - 10:59 | **Mid-peak** |
| å¹³æ—¥ | 14:00 - 23:59 | **Mid-peak** |
| å¹³æ—¥ | 00:00 - 5:59 | **Off-peak** |
| å¹³æ—¥ | 11:00 - 13:59 | **Off-peak** |
| æ˜ŸæœŸå…­ | 6:00 - 10:59 | **Sat. Mid-peak** |
| æ˜ŸæœŸå…­ | 14:00 - 23:59 | **Sat. Mid-peak** |
| æ˜ŸæœŸå…­ | 00:00 - 5:59 | **Off-peak** |
| æ˜ŸæœŸå…­ | 11:00 - 13:59 | **Off-peak** |
| æ˜ŸæœŸæ—¥ | 00:00 - 23:59 | **Off-peak** |
